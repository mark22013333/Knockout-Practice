<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Component-2</title>
    <script src="/Knockout-Practice/js/knockout-3.5.1.js"></script>
</head>
<body>
    <!-- å¯ä»¥æ”¾åœ¨å–®ç¨çš„æ–‡ä»¶ä¸­ ï¼ˆé€™åªæ˜¯æ¨£æ¿ï¼Œä¸¦ä¸æœƒåŸ·è¡Œæ–¼ç•«é¢ä¸­ï¼ŒçœŸæ­£åŸ·è¡Œæ˜¯ä½¿ç”¨åˆ°è©²æ¨¡æ¿çš„è‡ªå®šç¾©å…ƒç´ ::my-special-listï¼‰-->
    <template id="my-special-list-template">
        <h3>æ¨£æ¿æ¨™é¡Œ</h3>
        <!-- 1. é€™è£¡çš„myItemsï¼ŒæŒ‡å‘viewModelçš„myItems -->
        <ul data-bind="foreach: { data: myItems, as: 'myItem' }">
            <li>
                <h4>æ¨£æ¿ä¸­çš„åˆ—è¡¨æ¨™é¡Œ</h4>
                <!-- $componentTemplateNodes è¡¨ç¤ºè‡ªå®šç¾©å…ƒç´ çš„æ¨£æ¿ç¯€é» -->
                <!-- ğŸ’–ğŸ’–â”€=â‰¡Î£((( ã¤â€¢Ì€Ï‰â€¢Ì)ã¤é€™è£¡çš„koè¨»è§£èªæ³•ï¼Œå…¶å¯¦æœƒå°æ‡‰åˆ°<em>æ¨™ç±¤ -->
                    <!-- dataä¸­çš„myItemå…¶å¯¦å°±æ˜¯peopleArrayä¸­çš„å…ƒç´  -->
                <!-- ko template: { nodes: $componentTemplateNodes, data: myItem } -->
                <!-- /ko -->
            </li>
        </ul>
    </template>

    <my-special-list params="items: peopleArray">
        <!-- åœ¨è‡ªå®šç¾©å…ƒç´ ä¸­ï¼Œå¢åŠ åˆå§‹è¨Šæ¯ -->
        <!-- ğŸ’–ğŸ’–â”€=â‰¡Î£((( ã¤â€¢Ì€Ï‰â€¢Ì)ã¤é€™è£¡çš„<em>ï¼Œå…¶å¯¦æœƒå°æ‡‰åˆ°ä¸Šé¢çš„koè¨»è§£èªæ³• -->
        <em data-bind="text: name"></em> is 
        <em data-bind="text: age"></em> years old.
    </my-special-list>

</body>
<script type="text/javascript">
    ko.components.register("my-special-list", {
        template: {
            // æŒ‡å®šæ¨£æ¿id
            element: "my-special-list-template"
        },
        // 2. é€™è£¡çš„myItemsï¼Œæ˜¯ç”±å¤–éƒ¨çš„paramså‚³é€²ä¾†çš„
        viewModel: function(params) {
                        // 3. é€™è£¡çš„paramsæ˜¯æŒ‡å‘<my-special-list>ä¸­çš„paramså±¬æ€§
            // é€™é‚Šç°¡å–®ç†è§£å°±æ˜¯myItemså°±æ˜¯peopleArray
            this.myItems = params.items;
        }
    })

    // peopleArrayä¹Ÿå¯ä»¥æå‡ºä¾†å¯«æˆlet vm = {...}
    ko.applyBindings({
        peopleArray: ko.observableArray([
            {name: "Lewis", age: 54},
            {name: "Hathaway", age: 32}
        ]
    )})
</script>
</html>